<!doctype html>

<html>
<head>
	<!-- Angular Material style sheet -->
	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.css">
	<style>
		html, body {
			position: fixed;
			top: 0; 
			bottom: 0;
			left: 0;
			right: 0;
			margin: 0;
			padding: 0;
			height: 100%;
		}
		body {
			background-image: url("http://cs-server.usc.edu:45678/hw/hw8/images/background.png");
		}

		.container {
			margin-top:50px;
		}

		#dropdown{
			background-color: white;
		}
	</style>


	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


	<!-- Angular Material requires Angular.js Libraries -->
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-animate.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-aria.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-messages.min.js"></script>

	<!-- Angular Material Library -->
	<script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.js"></script>

	<script src="script.js"></script>
	<script>
		function clearSearch(){
			console.log('hi')
			document.getElementsByName('autocomplete')[0].value = '';
		}

	</script>
</head>

<body>



	<div class="container">
		<div class="panel panel-default">
			<h4 class="text-center">Stock Market Search</h4>

			<div ng-controller = "autoCompleteController as ctrl" ng-app = "firstApplication" layout = "column" ng-cloak>
					<form name="autocompleteForm" ng-submit = "$event.preventDefault()" novalidate="">
						<div class="row">
							<div class="col-md-3">	  
								<label for="symbol">Enter Stock Ticker Symbol: *</label>
							</div>	

							<div class="col-md-6">
								<md-autocomplete
									required
									md-input-name="autocomplete"
									md-selected-item = "ctrl.selectedItem"
									md-search-text-change = "ctrl.querySearch(ctrl.searchText)"
									md-search-text = "ctrl.searchText"
									md-selected-item-change = "ctrl.selectedItemChange(item)"
									md-items = "item in ctrl.results"
									md-item-text = "item.Symbol"
									md-min-length = "1"
									placeholder = "e.g. AAPL"
								>
									<md-item-template>
										 <span md-highlight-text = "ctrl.searchText"
												md-highlight-flags = "^i">{{item.Symbol}} - {{item.Name}} ({{item.Exchange}})</span>
									</md-item-template>

									<div ng-messages="autocompleteForm.autocomplete.$error" ng-if="autocompleteForm.autocomplete.$touched && autocompleteForm.autocomplete.$invalid">
							      <div ng-message="required">This field is required</div>
							    </div>

								</md-autocomplete>

							</div>


						<div class="col-md-3">
							<button type="button" class="btn btn-primary" ng-disabled="autocompleteForm.$invalid" ng-click="ctrl.getQuote(ctrl.searchText)">
								<span class="glyphicon glyphicon-search"></span> Get Quote
							</button>
							<button id="search-clear" type="button" onclick="clearSearch()" class="btn btn-secondary">
								<span class="glyphicon glyphicon-remove"></span> Clear
							</button>
						</div>

						 <br/>
					</form>
			</div>
		</div>
	</div>





<!-- 	<div class="container"  ng-controller="formCtrl">
		<div class="panel panel-default">
			<div class="panel-body">
				<h4 class="text-center">Stock Market Search</h4>

				<form name="myForm" ng-submit="$event.preventDefault()" novalidate>
					<div class="row">
						<div class="col-md-3">	  
							<label for="symbol">Enter Stock Ticker Symbol: *</label>
						</div>



						<div class="col-md-5">
							<input id="search-input" name="symbol" ng-model="symbol" type="search" class="form-control" placeholder="e.g. AAPL" required my-directive>	
							<p ng-show="myForm.symbol.$invalid && myForm.symbol.$touched" class="help-block">Please enter a stock ticker symbol.</p>
								<h1>{{myForm.symbol}}</h1>
							<h1>{{myForm.symbol.$valid}}</h1>
						</div>



					</div>



				</form>
			</div>
		</div>
		<hr>

		<div class="panel panel-default">
			<div class="panel-body">
			</div>
		</div>
	</div>

</body>
</html>